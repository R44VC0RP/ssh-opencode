# SSH OpenCode Configuration
# Copy this to .env and fill in your values

# =============================================================================
# DOMAIN CONFIGURATION
# =============================================================================

# Your domain for SSH access (e.g., code.example.com)
# Users will run: ssh code.example.com
DOMAIN=code.example.com

# =============================================================================
# CLOUDFLARE CONFIGURATION
# =============================================================================

# Your Cloudflare Account ID
# Find at: https://dash.cloudflare.com > Workers & Pages > Overview (right sidebar)
CLOUDFLARE_ACCOUNT_ID=

# Cloudflare API Token with Workers and R2 permissions
# Create at: https://dash.cloudflare.com/profile/api-tokens
# Required permissions: Workers Scripts (Edit), R2 (Edit), Durable Objects (Edit)
CLOUDFLARE_API_TOKEN=

# R2 bucket name for persistent storage (will be created if doesn't exist)
R2_BUCKET_NAME=opencode-state

# Cloudflare Worker name
WORKER_NAME=opencode-relay

# =============================================================================
# CONTAINER CONFIGURATION
# =============================================================================

# Container image to run (must be linux/amd64)
# You can use the default or build your own
CONTAINER_IMAGE=ghcr.io/your-org/opencode-container:latest

# Idle timeout before container sleeps (minutes)
IDLE_TIMEOUT_MINUTES=30

# Container instance type: lite, basic, standard-1, standard-2, standard-3, standard-4
# See: https://developers.cloudflare.com/containers/pricing/
CONTAINER_INSTANCE_TYPE=basic

# =============================================================================
# SSH RELAY CONFIGURATION (for VPS deployment)
# =============================================================================

# Address to listen on
SSH_LISTEN_ADDR=:22

# Path to SSH host key (will be generated if doesn't exist)
SSH_HOST_KEY_PATH=/etc/ssh-opencode/host_key

# Path to SQLite database for authorized keys
SSH_KEY_DB_PATH=/var/lib/ssh-opencode/keys.db

# =============================================================================
# OPTIONAL: GITHUB INTEGRATION
# =============================================================================

# GitHub token for cloning private repos (optional)
# If not set, only public repos can be cloned
# GITHUB_TOKEN=ghp_xxxxxxxxxxxx
